namespace = assassination

# Assassination Plot Events, work in progress from vanilla

# Bounty hunters!
character_event = {
	# A bounty hunter has successfully killed you
	id = assassination.0
	desc = "EVTDESCASSASSINATION0"
	picture = GFX_evt_assassins
	
	prisoner = no
	
	trigger = {
		check_variable = { which = "bounty" value = 1 } # Must have a bounty
	}
	
	mean_time_to_happen = {
		months = 240
		
		# Target's rank (and therefore security arrangements)
		modifier = {
			factor = 4
			is_landed = yes
		}
		modifier = {
			factor = 4
			higher_tier_than = baron
		}
		modifier = {
			factor = 4
			higher_tier_than = duke
		}
		modifier = {
			factor = 4
			higher_tier_than = king
		}
		modifier = {
			factor = 3
			any_heir_title = { always = yes }
		}
		modifier = {
			factor = 3
			any_heir_title = { higher_tier_than = baron }
		}
		modifier = {
			factor = 3
			any_heir_title = { higher_tier_than = duke }
		}
		modifier = {
			factor = 3
			any_heir_title = { higher_tier_than = king }
		}
		modifier = {
			factor = 2
			any_pretender_title = { always = yes }
		}
		modifier = {
			factor = 2
			any_pretender_title = { higher_tier_than = baron }
		}
		modifier = {
			factor = 2
			any_pretender_title = { higher_tier_than = duke }
		}
		modifier = {
			factor = 2
			any_pretender_title = { higher_tier_than = king }
		}
		
		# Target's intrigue
		modifier = {
			factor = 1.25
			intrigue = 2
		}
		modifier = {
			factor = 1.25
			intrigue = 4
		}
		modifier = {
			factor = 1.25
			intrigue = 6
		}
		modifier = {
			factor = 1.25
			intrigue = 8
		}
		modifier = {
			factor = 1.25
			intrigue = 10
		}
		modifier = {
			factor = 1.25
			intrigue = 12
		}
		modifier = {
			factor = 1.25
			intrigue = 14
		}
		modifier = {
			factor = 1.25
			intrigue = 16
		}
		modifier = {
			factor = 1.25
			intrigue = 18
		}
		modifier = {
			factor = 1.25
			intrigue = 20
		}
		modifier = {
			factor = 1.25
			intrigue = 22
		}
		modifier = {
			factor = 1.25
			intrigue = 24
		}
		modifier = {
			factor = 1.25
			intrigue = 26
		}
		modifier = {
			factor = 1.25
			intrigue = 28
		}
		modifier = {
			factor = 1.25
			intrigue = 30
		}
		
		# Target's spymaster's intrigue
		modifier = {
			factor = 1.25
			job_spymaster = {
				NOT = { plot_target_char = { character = ROOT } }
				NOT = { any_backed_character = { plot_target_char = { character = ROOT } } }
				intrigue = 2
			}
		}
		modifier = {
			factor = 1.25
			job_spymaster = {
				NOT = { plot_target_char = { character = ROOT } }
				NOT = { any_backed_character = { plot_target_char = { character = ROOT } } }
				intrigue = 4
			}
		}
		modifier = {
			factor = 1.25
			job_spymaster = {
				NOT = { plot_target_char = { character = ROOT } }
				NOT = { any_backed_character = { plot_target_char = { character = ROOT } } }
				intrigue = 6
			}
		}
		modifier = {
			factor = 1.25
			job_spymaster = {
				NOT = { plot_target_char = { character = ROOT } }
				NOT = { any_backed_character = { plot_target_char = { character = ROOT } } }
				intrigue = 8
			}
		}
		modifier = {
			factor = 1.25
			job_spymaster = {
				NOT = { plot_target_char = { character = ROOT } }
				NOT = { any_backed_character = { plot_target_char = { character = ROOT } } }
				intrigue = 10
			}
		}
		modifier = {
			factor = 1.25
			job_spymaster = {
				NOT = { plot_target_char = { character = ROOT } }
				NOT = { any_backed_character = { plot_target_char = { character = ROOT } } }
				intrigue = 12
			}
		}
		modifier = {
			factor = 1.25
			job_spymaster = {
				NOT = { plot_target_char = { character = ROOT } }
				NOT = { any_backed_character = { plot_target_char = { character = ROOT } } }
				intrigue = 14
			}
		}
		modifier = {
			factor = 1.25
			job_spymaster = {
				NOT = { plot_target_char = { character = ROOT } }
				NOT = { any_backed_character = { plot_target_char = { character = ROOT } } }
				intrigue = 16
			}
		}
		modifier = {
			factor = 1.25
			job_spymaster = {
				NOT = { plot_target_char = { character = ROOT } }
				NOT = { any_backed_character = { plot_target_char = { character = ROOT } } }
				intrigue = 18
			}
		}
		modifier = {
			factor = 1.25
			job_spymaster = {
				NOT = { plot_target_char = { character = ROOT } }
				NOT = { any_backed_character = { plot_target_char = { character = ROOT } } }
				intrigue = 20
			}
		}
		modifier = {
			factor = 1.25
			job_spymaster = {
				NOT = { plot_target_char = { character = ROOT } }
				NOT = { any_backed_character = { plot_target_char = { character = ROOT } } }
				intrigue = 22
			}
		}
		modifier = {
			factor = 1.25
			job_spymaster = {
				NOT = { plot_target_char = { character = ROOT } }
				NOT = { any_backed_character = { plot_target_char = { character = ROOT } } }
				intrigue = 24
			}
		}
		modifier = {
			factor = 1.25
			job_spymaster = {
				NOT = { plot_target_char = { character = ROOT } }
				NOT = { any_backed_character = { plot_target_char = { character = ROOT } } }
				intrigue = 26
			}
		}
		modifier = {
			factor = 1.25
			job_spymaster = {
				NOT = { plot_target_char = { character = ROOT } }
				NOT = { any_backed_character = { plot_target_char = { character = ROOT } } }
				intrigue = 28
			}
		}
		modifier = {
			factor = 1.25
			job_spymaster = {
				NOT = { plot_target_char = { character = ROOT } }
				NOT = { any_backed_character = { plot_target_char = { character = ROOT } } }
				intrigue = 30
			}
		}
		
		# Size of bounty
		# Success chance scales linearly to bounty size for now
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 2 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 4 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 8 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 16 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 32 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 64 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 128 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 246 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 512 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 1024 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 2048 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 4096 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 8192 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 16384 }
		}
	}
	
	option = {
		name = "EVTOPTAASSASSINATION0"
		death = { death_reason = death_murder } # Killer unknown
		hidden_tooltip = {
			# Inform any relevant people that you've been killed by bounty hunters
			any_friend = { character_event = { id = assassination.1 } }
			any_lover = { character_event = { id = assassination.1 } }
			spouse = { character_event = { id = assassination.1 } }
			father = { character_event = { id = assassination.1 } }
			mother = { character_event = { id = assassination.1 } }
			any_sibling = { character_event = { id = assassination.1 } }
			any_child = { character_event = { id = assassination.1 } }
			liege = { character_event = { id = assassination.1 } }
			any_vassal = { character_event = { id = assassination.1 } }
			any_realm_character = {
				limit = { plot_target_char = { character = ROOT } }
				character_event = { id = assassination.2 }
			}
			any_realm_character = {
				limit = { any_backed_character = { plot_target_char = { character = ROOT } } }
				character_event = { id = assassination.2 }
			}
			any_rival = {
				limit = { plot_target_char = { character = ROOT } }
				character_event = { id = assassination.2 }
			}
			any_rival = {
				limit = { any_backed_character = { plot_target_char = { character = ROOT } } }
				character_event = { id = assassination.2 }
			}
		}
	}
}

character_event = {
	id = assassination.1
	desc = "EVTDESCASSASSINATION1"
	picture = GFX_evt_assassins
	is_triggered_only = yes
	
	option = { name = "EVTOPTCONFIRM" }
}

character_event = {
	id = assassination.2
	desc = "EVTDESCASSASSINATION2"
	picture = GFX_evt_assassins
	is_triggered_only = yes
	
	option = { name = "EVTOPTCONFIRM" }
}

character_event = {
	# A bounty hunter has failed to kill you
	id = assassination.5
	desc = "EVTDESCASSASSINATION5"
	picture = GFX_evt_assassins
	
	prisoner = no
	
	trigger = {
		check_variable = { which = "bounty" value = 1 } # Must have a bounty
		NOT = { has_character_modifier = failed_assassination_attempt }
	}
	
	mean_time_to_happen = {
		months = 240
		
		# Target's rank (and therefore security arrangements)
		modifier = {
			factor = 2
			is_landed = yes
		}
		modifier = {
			factor = 2
			higher_tier_than = baron
		}
		modifier = {
			factor = 2
			higher_tier_than = duke
		}
		modifier = {
			factor = 2
			higher_tier_than = king
		}
		modifier = {
			factor = 2
			any_heir_title = { always = yes }
		}
		modifier = {
			factor = 2
			any_heir_title = { higher_tier_than = baron }
		}
		modifier = {
			factor = 2
			any_heir_title = { higher_tier_than = duke }
		}
		modifier = {
			factor = 2
			any_heir_title = { higher_tier_than = king }
		}
		
		# Size of bounty
		# Success chance scales linearly to bounty size for now
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 2 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 4 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 8 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 16 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 32 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 64 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 128 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 246 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 512 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 1024 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 2048 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 4096 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 8192 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 16384 }
		}
	}
	
	option = {
		name = "EVTOPTAASSASSINATION0"
		add_character_modifier = { name = "failed_assassination_attempt" months = 1825 }
	}
}

# Place a bounty on your plot target
character_event = {
	id = assassination.10
	desc = "EVTDESCASSASSINATION10"
	picture = GFX_evt_assassins
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION10" # 10 credits
		wealth = -10
		plot_target_char = {
			if = {
				limit = { NOT = { check_variable = { which = "bounty" value = 1 } } }
				set_variable = { which = "bounty" value = 0 }
			}
			change_variable = { which = "bounty" value = 10 }
		}
		clr_character_flag = flag_placing_bounty
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				wealth = 100
				plot_target_char = { is_landed = yes }
			}
		}
	}
	
	option = {
		trigger = { wealth = 100 }
		name = "EVTOPTBASSASSINATION10" # 100 credits
		wealth = -100
		plot_target_char = {
			if = {
				limit = { NOT = { check_variable = { which = "bounty" value = 1 } } }
				set_variable = { which = "bounty" value = 0 }
			}
			change_variable = { which = "bounty" value = 100 }
		}
		clr_character_flag = flag_placing_bounty
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				plot_target_char = { is_landed = no }
			}
			modifier = {
				factor = 0
				wealth = 500
				plot_target_char = { NOT = { higher_tier_than = duke } }
			}
		}
	}
	
	option = {
		trigger = { wealth = 500 }
		name = "EVTOPTCASSASSINATION10" # 500 credits
		wealth = -500
		plot_target_char = {
			if = {
				limit = { NOT = { check_variable = { which = "bounty" value = 1 } } }
				set_variable = { which = "bounty" value = 0 }
			}
			change_variable = { which = "bounty" value = 500 }
		}
		clr_character_flag = flag_placing_bounty
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				NOT = { plot_target_char = { higher_tier_than = duke } }
			}
			modifier = {
				factor = 0
				wealth = 500
			}
		}
	}
	
	option = {
		name = "EVTOPTDASSASSINATION10"
		clr_character_flag = flag_placing_bounty
	}
}

character_event = {
	id = assassination.20
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		plot_target_char = {
			father = { character_event = { id = assassination.21 } }
			mother = { character_event = { id = assassination.21 } }
			any_sibling = { character_event = { id = assassination.21 } }
			any_child = { character_event = { id = assassination.21 } }
			spouse = { character_event = { id = assassination.21 } }
			any_lover = { character_event = { id = assassination.21 } }
			any_friend = { character_event = { id = assassination.21 } }
			liege = { character_event = { id = assassination.21 } }
			any_vassal = { character_event = { id = assassination.21 } }
		}
	}
}
# You have suspicions about FROM
character_event = {
	id = assassination.21
	desc = "EVTDESCASSASSINATION22"
	picture = GFX_evt_spymaster
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		FROM = {
			plot_is_known_by = ROOT
			NOT = { character = ROOT }
			NOT = { any_plot_backer = { character = ROOT } }
		}
	}
	
	option = {
		name = "EVTOPTAASSASSINATION22"
		opinion = { who = FROM modifier = suspect_of_murder months = 120 }
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				FROM = { plot_target_char = { killer = { character = FROM } } }
				NOT = { trait = imbecile }
			}
			modifier = {
				factor = 2
				FROM = { plot_target_char = { killer = { character = FROM } } }
				NOT = { trait = imbecile }
				NOT = { trait = slow }
			}
			modifier = {
				factor = 2
				FROM = { plot_target_char = { killer = { character = FROM } } }
				OR = {
					trait = quick
					trait = genius
				}
			}
			modifier = {
				factor = 2
				FROM = { plot_target_char = { killer = { character = FROM } } }
				trait = genius
			}
			modifier = {
				factor = 0.5
				FROM = { plot_target_char = { NOT = { killer = { character = FROM } } } }
				NOT = { trait = imbecile }
			}
			modifier = {
				factor = 0.5
				FROM = { plot_target_char = { NOT = { killer = { character = FROM } } } }
				NOT = { trait = imbecile }
				NOT = { trait = slow }
			}
			modifier = {
				factor = 0.5
				FROM = { plot_target_char = { NOT = { killer = { character = FROM } } } }
				OR = {
					trait = quick
					trait = genius
				}
			}
			modifier = {
				factor = 0.5
				FROM = { plot_target_char = { NOT = { killer = { character = FROM } } } }
				trait = genius
			}
		}
	}
	option = {
		name = "EVTOPTBASSASSINATION22"
		ai_chance = { factor = 50 }
	}
}

# 100 - Hired Assassin Succeeds
character_event = {
	id = assassination.100
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		log = "[Root.PlotTarget.GetBestName] was assassinated by [Root.GetBestName]."
		if = {
			limit = {
				NOT = { has_plot = plot_kill_character }
				NOT = { has_plot = plot_kill_spouse }
			}
			clr_character_flag = murder_in_motion
			break = yes
		}
		# Small child - kidnap, then murder
		if = {
			limit = { plot_target_char = { NOT = { age = 6 } } }
			plot_target_char = { character_event = { id = assassination.110 } }
		}
		# Schoolchild - shoot on way to school
		if = {
			limit = {
				plot_target_char = {
					age = 6
					NOT = { age = 18 }
				}
			}
			plot_target_char = { character_event = { id = assassination.120 } }
		}
		# Ordinary adult
		if = {
			limit = {
				plot_target_char = {
					age = 18
					is_landed = no
					is_councillor = no
				}
			}
			plot_target_char = {
				random_list = {
					50 = { character_event = { id = assassination.130 } } # Midnight breakin
					50 = { character_event = { id = assassination.140 } } # Shot
				}
			}
		}
		# Politican
		if = {
			limit = {
				plot_target_char = {
					age = 18
					OR = {
						is_landed = yes
						is_councillor = yes
					}
				}
			}
			plot_target_char = {
				random_list = {
					25 = { character_event = { id = assassination.130 } } # Midnight breakin
					25 = { character_event = { id = assassination.140 } } # Shot
					25 = { character_event = { id = assassination.150 } } # Sniped at speech
					25 = { character_event = { id = assassination.160 } } # Office bombed
				}
			}
		}
	}
}
# Small child abducted, then killed
character_event = {
	id = assassination.110
	desc = "EVTDESCASSASSINATION110"
	picture = GFX_evt_child
	border = GFX_event_normal_frame_intrigue
	hide_from = yes
	is_triggered_only = yes
	
	immediate = { save_event_target_as = target_victim }
	
	# Involvement unknown
	option = {
		trigger = {
			NOT = {
				AND = {
					liege = {
						FROM = {
							plot_is_known_by = PREV
							NOT = { character = PREV }
							NOT = { any_plot_backer = { character = PREVPREV } }
						}
					}
					random = 50
				}
			}
		}
		name = "EVTOPTAASSASSINATION110"
		death = { death_reason = death_murder_unknown killer = FROM }
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.111 } }
			any_realm_character = { character_event = { id = assassination.112 } }
			clear_event_target = target_victim
		}
	}
	
	# Involvement discovered
	option = {
		trigger = {
			liege = {
				FROM = {
					plot_is_known_by = PREV
					NOT = { character = PREV }
					NOT = { any_plot_backer = { character = PREVPREV } }
				}
			}
			random = 50
		}
		name = "EVTOPTBASSASSINATION110"
		death = { death_reason = death_murder killer = FROM }
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.113 } }
			any_realm_character = { character_event = { id = assassination.114 } }
		}
	}
}
character_event = {
	id = assassination.111
	desc = "EVTDESCASSASSINATION111"
	picture = GFX_evt_child
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION111"
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.112
	desc = "EVTDESCASSASSINATION112"
	picture = GFX_evt_child
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
character_event = {
	id = assassination.113
	desc = "EVTDESCASSASSINATION113"
	picture = GFX_evt_child
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION113"
		hidden_tooltip = { character_event = { id = 10 } }
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.114
	desc = "EVTDESCASSASSINATION114"
	picture = GFX_evt_child
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
# Schoolchild shot
character_event = {
	id = assassination.120
	desc = "EVTDESCASSASSINATION120"
	picture = GFX_evt_child
	border = GFX_event_normal_frame_intrigue
	hide_from = yes
	is_triggered_only = yes
	
	immediate = { save_event_target_as = target_victim }
	
	# Involvement unknown
	option = {
		trigger = {
			NOT = {
				AND = {
					liege = {
						FROM = {
							plot_is_known_by = PREV
							NOT = { character = PREV }
							NOT = { any_plot_backer = { character = PREVPREV } }
						}
					}
					random = 50
				}
			}
		}
		name = "EVTOPTAASSASSINATION120"
		death = { death_reason = death_murder_unknown killer = FROM }
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.121 } }
			any_realm_character = { character_event = { id = assassination.122 } }
			clear_event_target = target_victim
		}
	}
	
	# Involvement discovered
	option = {
		trigger = {
			liege = {
				FROM = {
					plot_is_known_by = PREV
					NOT = { character = PREV }
					NOT = { any_plot_backer = { character = PREVPREV } }
				}
			}
			random = 50
		}
		name = "EVTOPTBASSASSINATION120"
		death = { death_reason = death_murder killer = FROM }
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.123 } }
			any_realm_character = { character_event = { id = assassination.124 } }
		}
	}
}
character_event = {
	id = assassination.121
	desc = "EVTDESCASSASSINATION121"
	picture = GFX_evt_child
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION121"
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.122
	desc = "EVTDESCASSASSINATION122"
	picture = GFX_evt_child
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
character_event = {
	id = assassination.123
	desc = "EVTDESCASSASSINATION123"
	picture = GFX_evt_child
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION123"
		hidden_tooltip = { character_event = { id = 10 } }
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.124
	desc = "EVTDESCASSASSINATION124"
	picture = GFX_evt_child
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
# Midnight break-in and stabbing
character_event = {
	id = assassination.130
	desc = "EVTDESCASSASSINATION130"
	picture = GFX_evt_murder
	border = GFX_event_normal_frame_intrigue
	hide_from = yes
	is_triggered_only = yes
	
	immediate = { save_event_target_as = target_victim }
	
	# Involvement unknown
	option = {
		trigger = {
			NOT = {
				AND = {
					liege = {
						FROM = {
							plot_is_known_by = PREV
							NOT = { character = PREV }
							NOT = { any_plot_backer = { character = PREVPREV } }
						}
					}
					random = 50
				}
			}
		}
		name = "EVTOPTAASSASSINATION130"
		death = { death_reason = death_murder_unknown killer = FROM }
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.131 } }
			any_realm_character = { character_event = { id = assassination.132 } }
		}
	}
	
	# Involvement discovered
	option = {
		trigger = {
			liege = {
				FROM = {
					plot_is_known_by = PREV
					NOT = { character = PREV }
					NOT = { any_plot_backer = { character = PREVPREV } }
				}
			}
			random = 50
		}
		name = "EVTOPTBASSASSINATION130"
		death = { death_reason = death_murder killer = FROM }
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.133 } }
			any_realm_character = { character_event = { id = assassination.134 } }
			clear_event_target = target_victim
		}
	}
}
character_event = {
	id = assassination.131
	desc = "EVTDESCASSASSINATION131"
	picture = GFX_evt_murder
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION131"
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.132
	desc = "EVTDESCASSASSINATION132"
	picture = GFX_evt_murder
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
character_event = {
	id = assassination.133
	desc = "EVTDESCASSASSINATION133"
	picture = GFX_evt_murder
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION133"
		hidden_tooltip = { character_event = { id = 10 } }
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.134
	desc = "EVTDESCASSASSINATION134"
	picture = GFX_evt_murder
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
# Shot in traffic
character_event = {
	id = assassination.140
	desc = "EVTDESCASSASSINATION140"
	picture = GFX_evt_murder
	border = GFX_event_normal_frame_intrigue
	hide_from = yes
	is_triggered_only = yes
	
	immediate = { save_event_target_as = target_victim }
	
	# Involvement unknown
	option = {
		trigger = {
			NOT = {
				AND = {
					liege = {
						FROM = {
							plot_is_known_by = PREV
							NOT = { character = PREV }
							NOT = { any_plot_backer = { character = PREVPREV } }
						}
					}
					random = 50
				}
			}
		}
		name = "EVTOPTAASSASSINATION140"
		death = { death_reason = death_murder_unknown killer = FROM }
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.141 } }
			any_realm_character = { character_event = { id = assassination.142 } }
			clear_event_target = target_victim
		}
	}
	
	# Involvement discovered
	option = {
		trigger = {
			liege = {
				FROM = {
					plot_is_known_by = PREV
					NOT = { character = PREV }
					NOT = { any_plot_backer = { character = PREVPREV } }
				}
			}
			random = 50
		}
		name = "EVTOPTBASSASSINATION140"
		death = { death_reason = death_murder killer = FROM }
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.143 } }
			any_realm_character = { character_event = { id = assassination.144 } }
		}
	}
}
character_event = {
	id = assassination.141
	desc = "EVTDESCASSASSINATION141"
	picture = GFX_evt_murder
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION141"
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.142
	desc = "EVTDESCASSASSINATION142"
	picture = GFX_evt_murder
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
character_event = {
	id = assassination.143
	desc = "EVTDESCASSASSINATION143"
	picture = GFX_evt_murder
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION143"
		hidden_tooltip = { character_event = { id = 10 } }
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.144
	desc = "EVTDESCASSASSINATION144"
	picture = GFX_evt_murder
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
# Shot at speech
character_event = {
	id = assassination.150
	desc = "EVTDESCASSASSINATION150"
	picture = GFX_evt_speech
	border = GFX_event_normal_frame_intrigue
	hide_from = yes
	is_triggered_only = yes
	
	immediate = { save_event_target_as = target_victim }
	
	# Involvement unknown
	option = {
		trigger = {
			NOT = {
				AND = {
					liege = {
						FROM = {
							plot_is_known_by = PREV
							NOT = { character = PREV }
							NOT = { any_plot_backer = { character = PREVPREV } }
						}
					}
					random = 50
				}
			}
		}
		name = "EVTOPTAASSASSINATION150"
		death = { death_reason = death_murder_unknown killer = FROM }
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.151 } }
			any_realm_character = { character_event = { id = assassination.152 } }
			clear_event_target = target_victim
		}
	}
	
	# Involvement discovered
	option = {
		trigger = {
			liege = {
				FROM = {
					plot_is_known_by = PREV
					NOT = { character = PREV }
					NOT = { any_plot_backer = { character = PREVPREV } }
				}
			}
			random = 50
		}
		name = "EVTOPTBASSASSINATION150"
		death = { death_reason = death_murder killer = FROM }
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.153 } }
			any_realm_character = { character_event = { id = assassination.154 } }
		}
	}
}
character_event = {
	id = assassination.151
	desc = "EVTDESCASSASSINATION151"
	picture = GFX_evt_speech
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION151"
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.152
	desc = "EVTDESCASSASSINATION152"
	picture = GFX_evt_speech
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
character_event = {
	id = assassination.153
	desc = "EVTDESCASSASSINATION153"
	picture = GFX_evt_speech
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION153"
		hidden_tooltip = { character_event = { id = 10 } }
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.154
	desc = "EVTDESCASSASSINATION154"
	picture = GFX_evt_speech
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
# Office Bomb
character_event = {
	id = assassination.160
	desc = "EVTDESCASSASSINATION160"
	picture = GFX_evt_murder
	border = GFX_event_normal_frame_intrigue
	hide_from = yes
	is_triggered_only = yes
	
	immediate = { save_event_target_as = target_victim }
	
	# Involvement unknown
	option = {
		trigger = {
			NOT = {
				AND = {
					liege = {
						FROM = {
							plot_is_known_by = PREV
							NOT = { character = PREV }
							NOT = { any_plot_backer = { character = PREVPREV } }
						}
					}
					random = 50
				}
			}
		}
		name = "EVTOPTAASSASSINATION160"
		death = { death_reason = death_murder_unknown killer = FROM }
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.161 } }
			any_realm_character = { character_event = { id = assassination.162 } }
			clear_event_target = target_victim
		}
	}
	
	# Involvement discovered
	option = {
		trigger = {
			liege = {
				FROM = {
					plot_is_known_by = PREV
					NOT = { character = PREV }
					NOT = { any_plot_backer = { character = PREVPREV } }
				}
			}
			random = 50
		}
		name = "EVTOPTBASSASSINATION160"
		death = { death_reason = death_murder killer = FROM }
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.163 } }
			any_realm_character = { character_event = { id = assassination.164 } }
		}
	}
}
character_event = {
	id = assassination.161
	desc = "EVTDESCASSASSINATION161"
	picture = GFX_evt_murder
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION161"
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.162
	desc = "EVTDESCASSASSINATION162"
	picture = GFX_evt_murder
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
character_event = {
	id = assassination.163
	desc = "EVTDESCASSASSINATION163"
	picture = GFX_evt_murder
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION163"
		hidden_tooltip = { character_event = { id = 10 } }
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.164
	desc = "EVTDESCASSASSINATION164"
	picture = GFX_evt_murder
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
# 200 - Hired Assassin Fails
character_event = {
	id = assassination.200
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				NOT = { has_plot = plot_kill_character }
				NOT = { has_plot = plot_kill_spouse }
			}
			clr_character_flag = murder_in_motion
			break = yes
		}
		# Small child - kidnap, then murder
		if = {
			limit = { plot_target_char = { NOT = { age = 6 } } }
			plot_target_char = { character_event = { id = assassination.210 } }
		}
		# Schoolchild - shoot on way to school
		if = {
			limit = {
				plot_target_char = {
					age = 6
					NOT = { age = 18 }
				}
			}
			plot_target_char = { character_event = { id = assassination.220 } }
		}
		# Ordinary adult
		if = {
			limit = {
				plot_target_char = {
					age = 18
					is_landed = no
					is_councillor = no
				}
			}
			plot_target_char = {
				random_list = {
					50 = { character_event = { id = assassination.230 } } # Midnight breakin
					50 = { character_event = { id = assassination.240 } } # Shot
				}
			}
		}
		# Politican
		if = {
			limit = {
				plot_target_char = {
					age = 18
					OR = {
						is_landed = yes
						is_councillor = yes
					}
				}
			}
			plot_target_char = {
				random_list = {
					25 = { character_event = { id = assassination.230 } } # Midnight breakin
					25 = { character_event = { id = assassination.240 } } # Shot
					25 = { character_event = { id = assassination.250 } } # Sniped at speech
					25 = { character_event = { id = assassination.260 } } # Office bombed
				}
			}
		}
	}
}
# Small child abducted, then killed
character_event = {
	id = assassination.210
	desc = "EVTDESCASSASSINATION210"
	picture = GFX_evt_child
	border = GFX_event_normal_frame_intrigue
	hide_from = yes
	is_triggered_only = yes
	
	immediate = { save_event_target_as = target_victim }
	
	# Not discovered
	option = {
		trigger = { NOT = { random = 25 } }
		name = "EVTOPTAASSASSINATION210"
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.211 } }
			any_realm_character = { character_event = { id = assassination.212 } }
			clear_event_target = target_victim
		}
	}
	
	# Discovered
	option = {
		trigger = { random = 25 }
		name = "EVTOPTBASSASSINATION210"
		FROM = { character_event = { id = assassination.213 tooltip = "EVTTOOLTIPASSASSINATION213" } }
	}
}
character_event = {
	id = assassination.211
	desc = "EVTDESCASSASSINATION211"
	picture = GFX_evt_child
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION211"
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.212
	desc = "EVTDESCASSASSINATION212"
	picture = GFX_evt_child
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
character_event = {
	id = assassination.213
	desc = "EVTDESCASSASSINATION213"
	picture = GFX_evt_child
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION213"
		reveal_plot = yes
		hidden_tooltip = {
			character_event = { id = 11 }
			FROM = { any_realm_character = { character_event = { id = assassination.214 } } }
		}
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.214
	desc = "EVTDESCASSASSINATION214"
	picture = GFX_evt_child
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROMFROM
			is_liege_of = FROMFROM
			is_friend = FROMFROM
			is_rival = FROMFROM
			is_lover = FROMFROM
			is_guardian = FROMFROM
			FROMFROM = { is_guardian = ROOT }
			FROMFROM = { is_liege_of = ROOT }
			spouse = { character = FROMFROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
# Schoolchild shot on way to school
character_event = {
	id = assassination.220
	desc = "EVTDESCASSASSINATION220"
	picture = GFX_evt_child
	border = GFX_event_normal_frame_intrigue
	hide_from = yes
	is_triggered_only = yes
	
	immediate = { save_event_target_as = target_victim }
	
	# Not discovered
	option = {
		trigger = { NOT = { random = 25 } }
		name = "EVTOPTAASSASSINATION220"
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.221 } }
			any_realm_character = { character_event = { id = assassination.222 } }
			clear_event_target = target_victim
		}
		random_list = {
			65 = { }
			20 = {
				inflict_minor_injury_effect = yes
				set_character_flag = flag_plot_wounded
			}
			10 = {
				inflict_moderate_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
			5 = {
				inflict_major_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
		}
	}
	
	# Discovered
	option = {
		trigger = { random = 25 }
		name = "EVTOPTBASSASSINATION220"
		FROM = { character_event = { id = assassination.223 tooltip = "EVTTOOLTIPASSASSINATION223" } }
		random_list = {
			65 = { }
			20 = {
				inflict_minor_injury_effect = yes
				set_character_flag = flag_plot_wounded
			}
			10 = {
				inflict_moderate_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
			5 = {
				inflict_major_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
		}
	}
}
character_event = {
	id = assassination.221
	desc = "EVTDESCASSASSINATION221"
	picture = GFX_evt_child
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		trigger = {
			FROM = {
				NOT = { has_character_flag = flag_plot_wounded }
				NOT = { has_character_flag = flag_plot_maimed }
			}
		}
		name = "EVTOPTAASSASSINATION211"
		clr_character_flag = murder_in_motion
	}
	
	option = {
		trigger = { FROM = { has_character_flag = flag_plot_wounded } }
		name = "EVTOPTBASSASSINATION211"
		clr_character_flag = murder_in_motion
	}
	
	option = {
		trigger = { FROM = { has_character_flag = flag_plot_maimed } }
		name = "EVTOPTCASSASSINATION211"
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.222
	desc = "EVTDESCASSASSINATION222"
	picture = GFX_evt_child
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
character_event = {
	id = assassination.223
	desc = "EVTDESCASSASSINATION223"
	picture = GFX_evt_child
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		trigger = {
			FROM = {	
				NOT = { has_character_flag = flag_plot_wounded }
				NOT = { has_character_flag = flag_plot_maimed }
			}
		}
		name = "EVTOPTAASSASSINATION211"
		reveal_plot = yes
		hidden_tooltip = {
			character_event = { id = 11 }
			FROM = { any_realm_character = { character_event = { id = assassination.224 } } }
		}
		clr_character_flag = murder_in_motion
	}
	
	option = {
		trigger = {
			FROM = { has_character_flag = flag_plot_wounded }
		}
		name = "EVTOPTBASSASSINATION211"
		reveal_plot = yes
		hidden_tooltip = {
			character_event = { id = 11 }
			FROM = { any_realm_character = { character_event = { id = assassination.224 } } }
		}
		FROM = {
			clr_character_flag = flag_plot_wounded
		}
		clr_character_flag = murder_in_motion
	}
	
	option = {
		trigger = {
			FROM = { has_character_flag = flag_plot_maimed }
		}
		name = "EVTOPTCASSASSINATION211"
		reveal_plot = yes
		hidden_tooltip = {
			character_event = { id = 11 }
			FROM = { any_realm_character = { character_event = { id = assassination.224 } } }
		}
		FROM = {
			clr_character_flag = flag_plot_maimed
		}
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.224
	desc = "EVTDESCASSASSINATION224"
	picture = GFX_evt_child
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROMFROM
			is_liege_of = FROMFROM
			is_friend = FROMFROM
			is_rival = FROMFROM
			is_lover = FROMFROM
			is_guardian = FROMFROM
			FROMFROM = { is_guardian = ROOT }
			FROMFROM = { is_liege_of = ROOT }
			spouse = { character = FROMFROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
# Midnight break-in
character_event = {
	id = assassination.230
	desc = "EVTDESCASSASSINATION230"
	picture = GFX_evt_murder
	border = GFX_event_normal_frame_intrigue
	hide_from = yes
	is_triggered_only = yes
	
	immediate = { save_event_target_as = target_victim }
	
	# Not discovered
	option = {
		trigger = { NOT = { random = 25 } }
		name = "EVTOPTAASSASSINATION230"
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.231 } }
			any_realm_character = { character_event = { id = assassination.232 } }
			clear_event_target = target_victim
		}
		random_list = {
			65 = { }
			20 = {
				inflict_minor_injury_effect = yes
				set_character_flag = flag_plot_wounded
			}
			10 = {
				inflict_moderate_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
			5 = {
				inflict_major_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
		}
	}
	
	# Discovered
	option = {
		trigger = { random = 25 }
		name = "EVTOPTBASSASSINATION230"
		FROM = { character_event = { id = assassination.233 tooltip = "EVTTOOLTIPASSASSINATION233" } }
		random_list = {
			65 = { }
			20 = {
				inflict_minor_injury_effect = yes
				set_character_flag = flag_plot_wounded
			}
			10 = {
				inflict_moderate_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
			5 = {
				inflict_major_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
		}
	}
}
character_event = {
	id = assassination.231
	desc = "EVTDESCASSASSINATION231"
	picture = GFX_evt_murder
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		trigger = {
			FROM = {
				NOT = { has_character_flag = flag_plot_wounded }
				NOT = { has_character_flag = flag_plot_maimed }
			}
		}
		name = "EVTOPTAASSASSINATION211"
		clr_character_flag = murder_in_motion
	}
	
	option = {
		trigger = { FROM = { has_character_flag = flag_plot_wounded } }
		name = "EVTOPTBASSASSINATION211"
		FROM = {
			clr_character_flag = flag_plot_wounded
		}
		clr_character_flag = murder_in_motion
	}
	
	option = {
		trigger = { FROM = { has_character_flag = flag_plot_maimed } }
		name = "EVTOPTCASSASSINATION211"
		FROM = {
			clr_character_flag = flag_plot_maimed
		}
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.232
	desc = "EVTDESCASSASSINATION232"
	picture = GFX_evt_murder
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
character_event = {
	id = assassination.233
	desc = "EVTDESCASSASSINATION233"
	picture = GFX_evt_murder
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		trigger = {
			FROM = {	
				NOT = { has_character_flag = flag_plot_wounded }
				NOT = { has_character_flag = flag_plot_maimed }
			}
		}
		name = "EVTOPTAASSASSINATION211"
		reveal_plot = yes
		hidden_tooltip = {
			character_event = { id = 11 }
			FROM = { any_realm_character = { character_event = { id = assassination.234 } } }
		}
		clr_character_flag = murder_in_motion
	}
	
	option = {
		trigger = {
			FROM = { has_character_flag = flag_plot_wounded }
		}
		name = "EVTOPTBASSASSINATION211"
		reveal_plot = yes
		hidden_tooltip = {
			character_event = { id = 11 }
			FROM = { any_realm_character = { character_event = { id = assassination.234 } } }
		}
		FROM = {
			clr_character_flag = flag_plot_wounded
		}
		clr_character_flag = murder_in_motion
	}
	
	option = {
		trigger = {
			FROM = { has_character_flag = flag_plot_maimed }
		}
		name = "EVTOPTCASSASSINATION211"
		reveal_plot = yes
		hidden_tooltip = {
			character_event = { id = 11 }
			FROM = { any_realm_character = { character_event = { id = assassination.234 } } }
		}
		FROM = {
			clr_character_flag = flag_plot_maimed
		}
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.234
	desc = "EVTDESCASSASSINATION234"
	picture = GFX_evt_murder
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROMFROM
			is_liege_of = FROMFROM
			is_friend = FROMFROM
			is_rival = FROMFROM
			is_lover = FROMFROM
			is_guardian = FROMFROM
			FROMFROM = { is_guardian = ROOT }
			FROMFROM = { is_liege_of = ROOT }
			spouse = { character = FROMFROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
# Shot in traffic
character_event = {
	id = assassination.240
	desc = "EVTDESCASSASSINATION240"
	picture = GFX_evt_murder
	border = GFX_event_normal_frame_intrigue
	hide_from = yes
	is_triggered_only = yes
	
	immediate = { save_event_target_as = target_victim }
	
	# Not discovered
	option = {
		trigger = { NOT = { random = 25 } }
		name = "EVTOPTAASSASSINATION240"
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.241 } }
			any_realm_character = { character_event = { id = assassination.242 } }
			clear_event_target = target_victim
		}
		random_list = {
			65 = { }
			20 = {
				inflict_minor_injury_effect = yes
				set_character_flag = flag_plot_wounded
			}
			10 = {
				inflict_moderate_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
			5 = {
				inflict_major_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
		}
	}
	
	# Discovered
	option = {
		trigger = { random = 25 }
		name = "EVTOPTBASSASSINATION240"
		FROM = { character_event = { id = assassination.243 tooltip = "EVTTOOLTIPASSASSINATION243" } }
		random_list = {
			65 = { }
			20 = {
				inflict_minor_injury_effect = yes
				set_character_flag = flag_plot_wounded
			}
			10 = {
				inflict_moderate_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
			5 = {
				inflict_major_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
		}
	}
}
character_event = {
	id = assassination.241
	desc = "EVTDESCASSASSINATION241"
	picture = GFX_evt_murder
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		trigger = {
			FROM = {
				NOT = { has_character_flag = flag_plot_wounded }
				NOT = { has_character_flag = flag_plot_maimed }
			}
		}
		name = "EVTOPTAASSASSINATION211"
		clr_character_flag = murder_in_motion
	}
	
	option = {
		trigger = { FROM = { has_character_flag = flag_plot_wounded } }
		name = "EVTOPTBASSASSINATION211"
		FROM = {
			clr_character_flag = flag_plot_wounded
		}
		clr_character_flag = murder_in_motion
	}
	
	option = {
		trigger = { FROM = { has_character_flag = flag_plot_maimed } }
		name = "EVTOPTCASSASSINATION211"
		FROM = {
			clr_character_flag = flag_plot_maimed
		}
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.242
	desc = "EVTDESCASSASSINATION242"
	picture = GFX_evt_murder
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
character_event = {
	id = assassination.243
	desc = "EVTDESCASSASSINATION243"
	picture = GFX_evt_murder
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		trigger = {
			FROM = {	
				NOT = { has_character_flag = flag_plot_wounded }
				NOT = { has_character_flag = flag_plot_maimed }
			}
		}
		name = "EVTOPTAASSASSINATION211"
		reveal_plot = yes
		hidden_tooltip = {
			character_event = { id = 11 }
			FROM = { any_realm_character = { character_event = { id = assassination.244 } } }
		}
		clr_character_flag = murder_in_motion
	}
	
	option = {
		trigger = {
			FROM = { has_character_flag = flag_plot_wounded }
		}
		name = "EVTOPTBASSASSINATION211"
		reveal_plot = yes
		hidden_tooltip = {
			character_event = { id = 11 }
			FROM = { any_realm_character = { character_event = { id = assassination.244 } } }
		}
		FROM = {
			clr_character_flag = flag_plot_wounded
		}
		clr_character_flag = murder_in_motion
	}
	
	option = {
		trigger = {
			FROM = { has_character_flag = flag_plot_maimed }
		}
		name = "EVTOPTCASSASSINATION211"
		reveal_plot = yes
		hidden_tooltip = {
			character_event = { id = 11 }
			FROM = { any_realm_character = { character_event = { id = assassination.244 } } }
		}
		FROM = {
			clr_character_flag = flag_plot_maimed
		}
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.244
	desc = "EVTDESCASSASSINATION244"
	picture = GFX_evt_murder
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROMFROM
			is_liege_of = FROMFROM
			is_friend = FROMFROM
			is_rival = FROMFROM
			is_lover = FROMFROM
			is_guardian = FROMFROM
			FROMFROM = { is_guardian = ROOT }
			FROMFROM = { is_liege_of = ROOT }
			spouse = { character = FROMFROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
# Shot at speech
character_event = {
	id = assassination.250
	desc = "EVTDESCASSASSINATION250"
	picture = GFX_evt_speech
	border = GFX_event_normal_frame_intrigue
	hide_from = yes
	is_triggered_only = yes
	
	immediate = { save_event_target_as = target_victim }
	
	# Not discovered
	option = {
		trigger = { NOT = { random = 25 } }
		name = "EVTOPTAASSASSINATION250"
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.251 } }
			any_realm_character = { character_event = { id = assassination.252 } }
			clear_event_target = target_victim
		}
		random_list = {
			65 = { }
			20 = {
				inflict_minor_injury_effect = yes
				set_character_flag = flag_plot_wounded
			}
			10 = {
				inflict_moderate_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
			5 = {
				inflict_major_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
		}
	}
	
	# Discovered
	option = {
		trigger = { random = 25 }
		name = "EVTOPTBASSASSINATION250"
		FROM = { character_event = { id = assassination.253 tooltip = "EVTTOOLTIPASSASSINATION253" } }
		random_list = {
			65 = { }
			20 = {
				inflict_minor_injury_effect = yes
				set_character_flag = flag_plot_wounded
			}
			10 = {
				inflict_moderate_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
			5 = {
				inflict_major_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
		}
	}
}
character_event = {
	id = assassination.251
	desc = "EVTDESCASSASSINATION251"
	picture = GFX_evt_speech
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		trigger = {
			FROM = {
				NOT = { has_character_flag = flag_plot_wounded }
				NOT = { has_character_flag = flag_plot_maimed }
			}
		}
		name = "EVTOPTAASSASSINATION211"
		clr_character_flag = murder_in_motion
	}
	
	option = {
		trigger = { FROM = { has_character_flag = flag_plot_wounded } }
		name = "EVTOPTBASSASSINATION211"
		FROM = {
			clr_character_flag = flag_plot_wounded
		}
		clr_character_flag = murder_in_motion
	}
	
	option = {
		trigger = { FROM = { has_character_flag = flag_plot_maimed } }
		name = "EVTOPTCASSASSINATION211"
		FROM = {
			clr_character_flag = flag_plot_maimed
		}
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.252
	desc = "EVTDESCASSASSINATION252"
	picture = GFX_evt_speech
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
character_event = {
	id = assassination.253
	desc = "EVTDESCASSASSINATION253"
	picture = GFX_evt_speech
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		trigger = {
			FROM = {	
				NOT = { has_character_flag = flag_plot_wounded }
				NOT = { has_character_flag = flag_plot_maimed }
			}
		}
		name = "EVTOPTAASSASSINATION211"
		reveal_plot = yes
		hidden_tooltip = {
			character_event = { id = 11 }
			FROM = { any_realm_character = { character_event = { id = assassination.254 } } }
		}
		clr_character_flag = murder_in_motion
	}
	
	option = {
		trigger = {
			FROM = { has_character_flag = flag_plot_wounded }
		}
		name = "EVTOPTBASSASSINATION211"
		reveal_plot = yes
		hidden_tooltip = {
			character_event = { id = 11 }
			FROM = { any_realm_character = { character_event = { id = assassination.254 } } }
		}
		FROM = {
			clr_character_flag = flag_plot_wounded
		}
		clr_character_flag = murder_in_motion
	}
	
	option = {
		trigger = {
			FROM = { has_character_flag = flag_plot_maimed }
		}
		name = "EVTOPTCASSASSINATION211"
		reveal_plot = yes
		hidden_tooltip = {
			character_event = { id = 11 }
			FROM = { any_realm_character = { character_event = { id = assassination.254 } } }
		}
		FROM = {
			clr_character_flag = flag_plot_maimed
		}
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.254
	desc = "EVTDESCASSASSINATION254"
	picture = GFX_evt_speech
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROMFROM
			is_liege_of = FROMFROM
			is_friend = FROMFROM
			is_rival = FROMFROM
			is_lover = FROMFROM
			is_guardian = FROMFROM
			FROMFROM = { is_guardian = ROOT }
			FROMFROM = { is_liege_of = ROOT }
			spouse = { character = FROMFROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
# Office bomb
character_event = {
	id = assassination.260
	desc = "EVTDESCASSASSINATION260"
	picture = GFX_evt_murder
	border = GFX_event_normal_frame_intrigue
	hide_from = yes
	is_triggered_only = yes
	
	immediate = { save_event_target_as = target_victim }
	
	# Not discovered
	option = {
		trigger = { NOT = { random = 25 } }
		name = "EVTOPTAASSASSINATION260"
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.261 } }
			any_realm_character = { character_event = { id = assassination.262 } }
			clear_event_target = target_victim
		}
		random_list = {
			65 = { }
			20 = {
				inflict_minor_injury_effect = yes
				set_character_flag = flag_plot_wounded
			}
			10 = {
				inflict_moderate_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
			5 = {
				inflict_major_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
		}
	}
	
	# Discovered
	option = {
		trigger = { random = 25 }
		name = "EVTOPTBASSASSINATION260"
		FROM = { character_event = { id = assassination.263 tooltip = "EVTTOOLTIPASSASSINATION263" } }
		random_list = {
			65 = { }
			20 = {
				inflict_minor_injury_effect = yes
				set_character_flag = flag_plot_wounded
			}
			10 = {
				inflict_moderate_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
			5 = {
				inflict_major_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
		}
	}
}
character_event = {
	id = assassination.261
	desc = "EVTDESCASSASSINATION261"
	picture = GFX_evt_murder
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		trigger = {
			FROM = {
				NOT = { has_character_flag = flag_plot_wounded }
				NOT = { has_character_flag = flag_plot_maimed }
			}
		}
		name = "EVTOPTAASSASSINATION211"
		clr_character_flag = murder_in_motion
	}
	
	option = {
		trigger = { FROM = { has_character_flag = flag_plot_wounded } }
		name = "EVTOPTBASSASSINATION211"
		FROM = {
			clr_character_flag = flag_plot_wounded
		}
		clr_character_flag = murder_in_motion
	}
	
	option = {
		trigger = { FROM = { has_character_flag = flag_plot_maimed } }
		name = "EVTOPTCASSASSINATION211"
		FROM = {
			clr_character_flag = flag_plot_maimed
		}
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.262
	desc = "EVTDESCASSASSINATION262"
	picture = GFX_evt_murder
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
character_event = {
	id = assassination.263
	desc = "EVTDESCASSASSINATION263"
	picture = GFX_evt_murder
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		trigger = {
			FROM = {	
				NOT = { has_character_flag = flag_plot_wounded }
				NOT = { has_character_flag = flag_plot_maimed }
			}
		}
		name = "EVTOPTAASSASSINATION211"
		reveal_plot = yes
		hidden_tooltip = {
			character_event = { id = 11 }
			FROM = { any_realm_character = { character_event = { id = assassination.264 } } }
		}
		clr_character_flag = murder_in_motion
	}
	
	option = {
		trigger = {
			FROM = { has_character_flag = flag_plot_wounded }
		}
		name = "EVTOPTBASSASSINATION211"
		reveal_plot = yes
		hidden_tooltip = {
			character_event = { id = 11 }
			FROM = { any_realm_character = { character_event = { id = assassination.264 } } }
		}
		FROM = {
			clr_character_flag = flag_plot_wounded
		}
		clr_character_flag = murder_in_motion
	}
	
	option = {
		trigger = {
			FROM = { has_character_flag = flag_plot_maimed }
		}
		name = "EVTOPTCASSASSINATION211"
		reveal_plot = yes
		hidden_tooltip = {
			character_event = { id = 11 }
			FROM = { any_realm_character = { character_event = { id = assassination.264 } } }
		}
		FROM = {
			clr_character_flag = flag_plot_maimed
		}
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.264
	desc = "EVTDESCASSASSINATION264"
	picture = GFX_evt_murder
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROMFROM
			is_liege_of = FROMFROM
			is_friend = FROMFROM
			is_rival = FROMFROM
			is_lover = FROMFROM
			is_guardian = FROMFROM
			FROMFROM = { is_guardian = ROOT }
			FROMFROM = { is_liege_of = ROOT }
			spouse = { character = FROMFROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}

# Assassinations of Opportunity!
# Plotter is in battle alongside plot target
character_event = {
	id = assassination.300
	desc = "EVTDESCASSASSINATION300"
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes # Battle trigger
	
	min_age = 18
	capable_only = yes
	prisoner = no
	
	trigger = {
		in_battle = yes
		OR = {
			has_plot = plot_kill_character
			has_plot = plot_kill_spouse
		}
		plot_target_char = {
			in_battle = yes
			at_location = ROOT
			NOT = { war_with = ROOT }
			NOT = { martial = ROOT }
		}
	}
	
	option = {
		name = "EVTOPTAASSASSINATION300"
		set_character_flag = murder_in_motion
		plot_target_char = {
			if = {
				limit = { ROOT = { NOT = { martial = 8 } } }
				random_list = {
					20 = { character_event = { id = assassination.301 tooltip = "EVTTOOLTIPASSASSINATION301" } } # Hit
					80 = { character_event = { id = assassination.302 tooltip = "EVTTOOLTIPASSASSINATION302" } } # Miss
				}
			}
			if = {
				limit = {
					ROOT = {
						martial = 8
						NOT = { martial = 16 }
					}
				}
				random_list = {
					40 = { character_event = { id = assassination.301 tooltip = "EVTTOOLTIPASSASSINATION301" } }
					60 = { character_event = { id = assassination.302 tooltip = "EVTTOOLTIPASSASSINATION302" } }
				}
			}
			if = {
				limit = {
					ROOT = {
						martial = 16
						NOT = { martial = 24 }
					}
				}
				random_list = {
					60 = { character_event = { id = assassination.301 tooltip = "EVTTOOLTIPASSASSINATION301" } }
					40 = { character_event = { id = assassination.302 tooltip = "EVTTOOLTIPASSASSINATION302" } }
				}
			}
			if = {
				limit = { ROOT = { martial = 24 } }
				random_list = {
					20 = { character_event = { id = assassination.301 tooltip = "EVTTOOLTIPASSASSINATION301" } }
					80 = { character_event = { id = assassination.302 tooltip = "EVTTOOLTIPASSASSINATION302" } }
				}
			}
		}
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				martial = 8
			}
			modifier = {
				factor = 2
				martial = 16
			}
			modifier = {
				factor = 2
				martial = 24
			}
		}
	}
	option = {
		name = "EVTOPTBASSASSINATION300"
		ai_chance = { factor = 50 }
	}
}

character_event = {
	id = assassination.301
	desc = "EVTDESCASSASSINATION301"
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_intrigue
	hide_from = yes
	is_triggered_only = yes
	
	immediate = {
		save_event_target_as = target_victim
		log = "[From.GetBestName] Garma'd [Root.GetBestName]"
	}
	
	# Origin of enemy fire unknown
	option = {
		trigger = { FROM = { NOT = { plot_is_known_by = ROOT } } }
		name = "EVTOPTAASSASSINATION301"
		death = { death_reason = death_murder_unknown killer = FROM }
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.303 } }
			any_realm_character = { character_event = { id = assassination.304 } }
			clear_event_target = target_victim
		}
	}
	
	# Origin of enemy fire known
	option = {
		trigger = { FROM = { plot_is_known_by = ROOT } }
		name = "EVTOPTBASSASSINATION301"
		death = { death_reason = death_murder killer = FROM }
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.305 } }
			any_realm_character = { character_event = { id = assassination.306 } }
		}
	}
}
character_event = {
	id = assassination.302
	desc = "EVTDESCASSASSINATION301"
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTBASSASSINATION301" # Traitorous snake!
		FROM = { reveal_plot = yes }
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.307 } }
			any_realm_character = { character_event = { id = assassination.308 } }
		}
	}
}

character_event = {
	id = assassination.303
	desc = "EVTDESCASSASSINATION303"
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION303" # Blame the misfortune of your birth!
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.304
	desc = "EVTDESCASSASSINATION304"
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			at_location = FROM
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}

character_event = {
	id = assassination.305
	desc = "EVTDESCASSASSINATION305"
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION305" # Blame the misfortune of your birth!
		clr_character_flag = murder_in_motion
		reveal_plot = yes
		hidden_tooltip = { character_event = { id = 10 } }
	}
}
character_event = {
	id = assassination.306
	desc = "EVTDESCASSASSINATION306"
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			at_location = FROM
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}

character_event = {
	id = assassination.307
	desc = "EVTDESCASSASSINATION307"
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION307"
		reveal_plot = yes
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.308
	desc = "EVTDESCASSASSINATION308"
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			at_location = FROM
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}

# A plot backer is in position for friendly fire during a battletarget
character_event = {
	id = assassination.350
	desc = "EVTDESCASSASSINATION350"
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes # Battle trigger
	
	min_age = 18
	capable_only = yes
	prisoner = no
	
	trigger = {
		in_battle = yes
		any_backed_character = {
			OR = {
				has_plot = plot_kill_character
				has_plot = plot_kill_spouse
			}
			plot_target_char = {
				in_battle = yes
				at_location = ROOT
				NOT = { war_with = ROOT }
				NOT = { martial = ROOT }
			}
		}
	}
	
	option = {
		name = "EVTOPTAASSASSINATION350"
		random_backed_character = {
			limit = {
				OR = {
					has_plot = plot_kill_character
					has_plot = plot_kill_spouse
				}
				plot_target_char = {
					in_battle = yes
					at_location = ROOT
					NOT = { war_with = ROOT }
					NOT = { martial = ROOT }
				}
			}
			plot_target_char = {
				if = {
					limit = { ROOT = { NOT = { martial = 8 } } }
					random_list = {
						20 = { character_event = { id = assassination.351 tooltip = "EVTTOOLTIPASSASSINATION351" } } # Hit
						80 = { character_event = { id = assassination.352 tooltip = "EVTTOOLTIPASSASSINATION352" } } # Miss
					}
				}
				if = {
					limit = {
						ROOT = {
							martial = 8
							NOT = { martial = 16 }
						}
					}
					random_list = {
						40 = { character_event = { id = assassination.351 tooltip = "EVTTOOLTIPASSASSINATION351" } }
						60 = { character_event = { id = assassination.352 tooltip = "EVTTOOLTIPASSASSINATION352" } }
					}
				}
				if = {
					limit = {
						ROOT = {
							martial = 16
							NOT = { martial = 24 }
						}
					}
					random_list = {
						60 = { character_event = { id = assassination.351 tooltip = "EVTTOOLTIPASSASSINATION351" } }
						40 = { character_event = { id = assassination.352 tooltip = "EVTTOOLTIPASSASSINATION352" } }
					}
				}
				if = {
					limit = { ROOT = { martial = 24 } }
					random_list = {
						20 = { character_event = { id = assassination.351 tooltip = "EVTTOOLTIPASSASSINATION351" } }
						80 = { character_event = { id = assassination.352 tooltip = "EVTTOOLTIPASSASSINATION352" } }
					}
				}
			}
		}
		ai_chance = {
			factor = 25
			modifier = {
				factor = 2
				martial = 8
			}
			modifier = {
				factor = 2
				martial = 16
			}
			modifier = {
				factor = 2
				martial = 24
			}
		}
	}
	option = {
		name = "EVTOPTBASSASSINATION300"
		ai_chance = { factor = 50 }
	}
}
# Attack succeeds
character_event = {
	id = assassination.351
	desc = "EVTDESCASSASSINATION301"
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_intrigue
	hide_from = yes
	is_triggered_only = yes
	
	
	immediate = {
		save_event_target_as = target_victim
		log = "[From.GetBestName] Garma'd [Root.GetBestName]"
	}
	
	option = {
		trigger = {
			FROM = {
				any_backed_character = {
					OR = {
						has_plot = plot_kill_character
						has_plot = plot_kill_spouse
					}
					plot_target_char = { character = ROOT }
					plot_is_known_by = ROOT
				}
			}
		}
		name = "EVTOPTAASSASSINATION301"
		death = { death_reason = death_murder killer = FROM }
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.353 } }
			any_realm_character = { character_event = { id = assassination.354 } }
		}
	}
	
	option = {
		trigger = {
			NOT = {
				FROM = {
					any_backed_character = {
						OR = {
							has_plot = plot_kill_character
							has_plot = plot_kill_spouse
						}
						plot_target_char = { character = ROOT }
						plot_is_known_by = ROOT
					}
				}
			}
		}
		name = "EVTOPTBASSASSINATION301"
		death = { death_reason = death_murder_unknown killer = FROM }
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.355 } }
			any_realm_character = { character_event = { id = assassination.356 } }
			clear_event_target = target_victim
		}
	}
}

# Attack fails
character_event = {
	id = assassination.352
	desc = "EVTDESCASSASSINATION301"
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	immediate = { save_event_target_as = target_victim }
	
	option = {
		name = "EVTOPTBASSASSINATION301"
		hidden_tooltip = {
			FROM = {
				character_event = { id = assassination.357 }
				any_realm_character = { character_event = { id = assassination.358 } }
			}
		}
	}
}

# Successful Assassination, Origins Known
character_event = {
	id = assassination.353
	desc = "EVTDESCASSASSINATION303"
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION303"
		any_backed_character = {
			limit = {
				OR = {
					has_plot = plot_kill_character
					has_plot = plot_kill_spouse
				}
				plot_target_char = { character = FROM }
			}
			opinion = { who = ROOT modifier = opinion_accomplice }
			hidden_tooltip = { letter_event = { id = assassination.359 } }
		}
		hidden_tooltip = { character_event = { id = 10 } }
	}
}
character_event = {
	id = assassination.354
	desc = "EVTDESCASSASSINATION304"
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			at_location = FROM
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}

# Successful Assassination, Origins Unknown
character_event = {
	id = assassination.355
	desc = "EVTDESCASSASSINATION305"
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION305"
		any_backed_character = {
			limit = {
				OR = {
					has_plot = plot_kill_character
					has_plot = plot_kill_spouse
				}
				plot_target_char = { character = FROM }
			}
			opinion = { who = ROOT modifier = opinion_accomplice }
			hidden_tooltip = { letter_event = { id = assassination.359 } }
		}
	}
}
character_event = {
	id = assassination.356
	desc = "EVTDESCASSASSINATION306"
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			at_location = FROM
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
# Failed Assassination
character_event = {
	id = assassination.357
	desc = "EVTDESCASSASSINATION307"
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		hidden_tooltip = { character_event = { id = 11 } }
		name = "EVTOPTAASSASSINATION307"
	}
}
character_event = {
	id = assassination.358
	desc = "EVTDESCASSASSINATION308"
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			at_location = FROM
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}

# Inform plotter of successful mid-battle assassination
letter_event = {
	id = assassination.359
	desc = "EVTDESCASSASSINATION359"
	border = GFX_event_letter_frame_intrigue
	is_triggered_only = yes
	
	option = { name = "EVTOPTCONFIRM" }
}

# Forced suicide via brainjacking
character_event = {
	id = assassination.400
	desc = "EVTDESCASSASSINATION400"
	picture = GFX_evt_cybernetics
	border = GFX_event_normal_frame_intrigue
	
	min_age = 18
	prisoner = no
	only_capable = yes
	
	trigger = {
		trait = dni
		OR = {
			AND = {
				has_plot = plot_kill_character
				plot_target_char = { trait = dni }
				plot_power = 1.0
				NOT = { has_character_flag = murder_in_motion }
			}
			any_backed_character = {
				has_plot = plot_kill_character
				plot_target_char = { trait = dni }
				plot_power = 1.0
				NOT = { has_character_flag = murder_in_motion }
			}
		}
	}
	
	mean_time_to_happen = { months = 30 }
	
	immediate = {
		if = {
			limit = {
				has_plot = plot_kill_character
				plot_target_char = { trait = dni }
				plot_power = 1.0
				NOT = { has_character_flag = murder_in_motion }
			}
			plot_target_char = { save_event_target_as = target_victim }
		}
		else = {
			random_backed_character = {
				limit = {
					has_plot = plot_kill_character
					plot_target_char = { trait = dni }
					plot_power = 1.0
					NOT = { has_character_flag = murder_in_motion }
				}
				save_event_target_as = target_mastermind
				plot_target_char = { save_event_target_as = target_victim }
			}
		}
	}
	
	# Go for it
	option = {
		trigger = {
			has_plot = plot_kill_character
			plot_target_char = { trait = dni }
			plot_power = 1.0
		}
		name = "EVTOPTAASSASSINATION400"
		set_character_flag = murder_in_motion
		hidden_tooltip = { event_target:target_victim = { character_event = { id = assassination.405 days = 1 random = 5 } } }
		tooltip = {
			random_list = {
				20 = {
					root_intrigue_x2_score = yes
					modifier = {
						factor = 1.25
						trait = confident
					}
					modifier = {
						factor = 0.8
						trait = neurotic
					}
					modifier = {
						factor = 0.8
						event_target:target_victim = { trait = confident }
					}
					modifier = {
						factor = 1.25
						event_target:target_victim = { trait = neurotic }
					}
					event_target:target_victim = { death = { death_reason = death_murder killer = ROOT } }
				}
				20 = { target_victim_intrigue_score = yes }
				0 = {
					target_victim_intrigue_score = yes
					custom_tooltip = { text = "EVTTOOLTIPBRAINJACKBACKFIRE" }
				}
			}
		}
		ai_chance = { factor = 50 }
	}
	
	# Ask the mastermind whether to go for it
	option = {
		trigger = {
			NOT = {
				AND = {
					has_plot = plot_kill_character
					plot_target_char = { trait = dni }
					plot_power = 1.0
				}
			}
		}
		name = "EVTOPTBASSASSINATION400"
		hidden_tooltip = { event_target:target_mastermind = { letter_event = { id = assassination.401 days = 1 random = 5 } } }
		ai_chance = { factor = 50 }
	}
	
	# Don't go for it
	option = {
		name = "EVTOPTCASSASSINATION400"
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0.5
				attribute_diff = { character = event_target:target_victim attribute = intrigue value = 1 }
			}
			modifier = {
				factor = 0.5
				attribute_diff = { character = event_target:target_victim attribute = intrigue value = 4 }
			}
			modifier = {
				factor = 0.5
				attribute_diff = { character = event_target:target_victim attribute = intrigue value = 7 }
			}
			modifier = {
				factor = 0.5
				attribute_diff = { character = event_target:target_victim attribute = intrigue value = 10 }
			}
			modifier = {
				factor = 2
				event_target:target_victim = { character = ROOT attribute = intrigue value = 1 }
				trait = honest
			}
			modifier = {
				factor = 2
				event_target:target_victim = { character = ROOT attribute = intrigue value = 4 }
				NOT = { trait = deceitful }
			}
			modifier = {
				factor = 2
				event_target:target_victim = { character = ROOT attribute = intrigue value = 7 }
				NOT = { trait = deceitful }
			}
			modifier = {
				factor = 2
				event_target:target_victim = { character = ROOT attribute = intrigue value = 10 }
			}
			modifier = {
				factor = 2
				trait = craven
			}
			modifier = {
				factor = 0.5
				trait = brave
			}
		}
	}
}

# A co-conspirator wants to try to brainjack your murder target
letter_event = {
	id = assassination.401
	desc = "EVTDESCASSASSINATION401"
	border = GFX_event_letter_frame_intrigue
	is_triggered_only = yes
	
	# Go ahead
	option = {
		name = "EVTOPTAASSASSINATION401"
		set_character_flag = murder_in_motion
		hidden_tooltip = { FROM = { letter_event = { id = assassination.402 } } }
		ai_chance = { factor = 1 }
	}
	
	# No, it's too risky
	option = {
		name = "EVTOPTBASSASSINATION401"
		hidden_tooltip = { FROM = { letter_event = { id = assassination.403 } } }
		ai_chance = { factor = 0 }
	}
}

# You've been given the go-ahead
letter_event = {
	id = assassination.402
	desc = "EVTDESCASSASSINATION402"
	border = GFX_event_letter_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION402"
		hidden_tooltip = { event_target:target_victim = { character_event = { id = assassination.405 days = 1 random = 5 } } }
		tooltip = {
			random_list = {
				20 = {
					root_intrigue_x2_score = yes
					modifier = {
						factor = 1.25
						trait = confident
					}
					modifier = {
						factor = 0.8
						trait = neurotic
					}
					modifier = {
						factor = 0.8
						event_target:target_victim = { trait = confident }
					}
					modifier = {
						factor = 1.25
						event_target:target_victim = { trait = neurotic }
					}
					event_target:target_victim = { death = { death_reason = death_murder killer = ROOT } }
				}
				20 = { target_victim_intrigue_score = yes }
				0 = {
					target_victim_intrigue_score = yes
					custom_tooltip = { text = "EVTTOOLTIPBRAINJACKBACKFIRE" }
				}
			}
		}
	}
}

# You have not been given the go-ahead
letter_event = {
	id = assassination.403
	desc = "EVTDESCASSASSINATION403"
	border = GFX_event_letter_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION403"
		clear_event_target = target_mastermind
		clear_event_target = target_victim
	}
}

# You've been brainjacked!
character_event = {
	id = assassination.405
	desc = "EVTDESCASSASSINATION405"
	picture = GFX_evt_cybernetics
	border = GFX_event_normal_frame_intrigue
	hide_from = yes
	is_triggered_only = yes
	
	# Try to resist
	option = {
		name = "EVTOPTAASSASSINATION405"
		random_list = {
			20 = {
				from_intrigue_x2_score = yes
				modifier = {
					factor = 1.25
					FROM = { trait = confident }
				}
				modifier = {
					factor = 0.8
					FROM = { trait = neurotic }
				}
				modifier = {
					factor = 0.8
					trait = confident
				}
				modifier = {
					factor = 1.25
					trait = neurotic
				}
				tooltip = { death = { death_reason = death_murder } }
				hidden_tooltip = {
					character_event = { id = assassination.410 }
					FROM = { character_event = { id = assassination.411 } }
				}
			}
			20 = {
				root_intrigue_score = yes
				hidden_tooltip = {
					character_event = { id = assassination.420 }
					FROM = { character_event = { id = assassination.421 } }
				}
			}
			0 = {
				root_intrigue_score = yes
				custom_tooltip = { text = "EVTTOOLTIPBRAINJACKBACKFIREVICTIM" }
				hidden_tooltip = {
					character_event = { id = assassination.430 }
					FROM = { character_event = { id = assassination.431 } }
				}
			}
		}
		ai_chance = {
			factor = 50
		}
	}
	
	# Don't try to resist
	option = {
		name = "EVTOPTBASSASSINATION405"
		tooltip = { death = { death_reason = death_murder } }
		hidden_tooltip = {
			character_event = { id = assassination.410 }
			FROM = { character_event = { id = assassination.411 } }
		}
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				NOT = { trait = depressed }
			}
		}
	}
}

# Brainjacked character shoots themselves
character_event = {
	id = assassination.410
	desc = "EVTDESCASSASSINATION410"
	picture = GFX_evt_wounded
	border = GFX_normal_frame_intrigue
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				FROMFROM = {
					has_plot = plot_kill_character
					plot_target_char = { character = ROOT }
					plot_is_known_by = ROOT
				}
			}
			death = { death_reason = death_murder_brainjack killer = FROMFROM }
		}
		else_if = {
			limit = {
				FROMFROM = {
					has_plot = plot_kill_character
					plot_target_char = { character = ROOT }
				}
			}
			death = { death_reason = death_murder_brainjack_unknown killer = FROMFROM }
		}
		else_if = {
			limit = { event_target:target_mastermind = { plot_is_known_by = ROOT } }
			death = { death = { death_reason = death_murder_brainjack killer = event_target:target_mastermind } }
		}
		else = { death = { death_reason = death_murder_brainjack_unknown killer = event_target:target_mastermind } }
	}
	option = { name = "EVTOPTAASSASSINATION410" }
}
character_event = {
	id = assassination.411
	desc = "EVTDESCASSASSINATION411"
	picture = GFX_evt_wounded
	border = GFX_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		trigger = { event_target:target_mastermind = { always = yes } }
		name = "EVTOPTAASSASSINATION411"
		hidden_tooltip = { event_target:target_mastermind = { character_event = { id = assassination.412 } } }
	}
	option = {
		trigger = { event_target:target_mastermind = { always = no } }
		name = "EVTOPTBASSASSINATION411"
		clear_event_target = target_victim
	}
}
character_event = {
	id = assassination.412
	desc = "EVTDESCASSASSINATION412"
	picture = GFX_evt_wounded
	border = GFX_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION412"
		clear_event_target = target_victim
		clear_event_target = target_mastermind
	}
}
# Brainjacked character shuts own hacker
character_event = {
	id = assassination.420
	desc = "EVTDESCASSASSINATION420"
	picture = GFX_evt_cybernetics
	border = GFX_normal_frame_intrigue
	is_triggered_only = yes
	
	option = { name = "EVTOPTAASSASSINATION420" }
}
character_event = {
	id = assassination.421
	desc = "EVTDESCASSASSINATION421"
	picture = GFX_evt_cybernetics
	border = GFX_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		trigger = { event_target:target_mastermind = { always = yes } }
		name = "EVTOPTAASSASSINATION421"
		hidden_tooltip = { event_target:target_mastermind = { character_event = { id = assassination.422 } } }
	}
	option = {
		trigger = { event_target:target_mastermind = { always = no } }
		name = "EVTOPTBASSASSINATION421"
		clear_event_target = target_victim
	}
}
character_event = {
	id = assassination.422
	desc = "EVTDESCASSASSINATION422"
	picture = GFX_evt_cybernetics
	border = GFX_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION422"
		clear_event_target = target_victim
		clear_event_target = target_mastermind
	}
}
# Brainjacked character retaliates against hacker
character_event = {
	id = assassination.430
	desc = "EVTDESCASSASSINATION430"
	picture = GFX_evt_cybernetics
	border = GFX_normal_frame_intrigue
	is_triggered_only = yes
	
	immediate = {
		random = {
			chance = 30
			if = {
				limit = {
					FROMFROM = {
						has_plot = plot_kill_character
						plot_target_char = { character = ROOT }
					}
				}
				FROMFROM = { reveal_plot = yes }
			}
			else = { target_mastermind = { reveal_plot = yes } }
		}
	}
	
	option = { name = "EVTOPTAASSASSINATION430" }
}
character_event = {
	id = assassination.431
	desc = "EVTDESCASSASSINATION431"
	picture = GFX_evt_wounded
	border = GFX_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		trigger = { event_target:target_mastermind = { always = no } }
		name = "EVTOPTAASSASSINATION431"
		degrade_mood_effect = yes
		inflict_minor_injury_effect = yes
		clear_event_target = target_victim
	}
	option = {
		trigger = { event_target:target_mastermind = { always = yes } }
		name = "EVTOPTBASSASSINATION431"
		degrade_mood_effect = yes
		inflict_minor_injury_effect = yes
		hidden_tooltip = { event_target:target_mastermind = { character_event = { id = assassination.432 } } }
	}
}
character_event = {
	id = assassination.432
	desc = "EVTDESCASSASSINATION432"
	picture = GFX_evt_cybernetics
	border = GFX_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION432"
		clear_event_target = target_mastermind
		clear_event_target = target_victim
	}
}

# Just shoot them
character_event = {
	id = assassination.500
	desc = "EVTDESCASSASSINATION500"
	picture = GFX_evt_cabal
	border = GFX_normal_frame_intrigue
	
	min_age = 18
	only_capable = yes
	prisoner = no
	
	trigger = {
		OR = {
			AND = {
				has_plot = plot_kill_character
				plot_target_char = { at_location = ROOT }
				plot_power = 1.0
			}
			any_backed_character = {
				has_plot = plot_kill_character
				plot_target_char = { at_location = ROOT }
				plot_power = 1.0
			}
		}
	}
	
	mean_time_to_happen = {
		months = 60
		modifier = {
			factor = 0.5
			OR = {
				AND = {
					has_plot = plot_kill_character
					plot_target_char = { at_location = ROOT }
					plot_power = 2.0
				}
				any_backed_character = {
					has_plot = plot_kill_character
					plot_target_char = { at_location = ROOT }
					plot_power = 2.0
				}
			}
		}
	}
	
	immediate = {
		if = {
			limit = {
				has_plot = plot_kill_character
				plot_target_char = { at_location = ROOT }
				plot_power = 1.0
			}
			plot_target_char = { save_event_target_as = target_victim }
		}
		else = {
			random_backed_character = {
				limit = {
					has_plot = plot_kill_character
					plot_target_char = { at_location = ROOT }
					plot_power = 1.0
				}
				save_event_target_as = target_mastermind
				plot_target_char = { save_event_target_as = target_victim }
			}
		}
		if = {
			limit = { event_target:target_victim = { is_landed = yes } }
			event_target:target_victim = { save_event_target_as = target_security }
		}
		else = { event_target:target_victim = { liege = { save_event_target_as = target_security } } }
	}
	
	# Go for it
	option = {
		trigger = { NOT = { event_target:target_mastermind = { always = yes } } }
		name = "EVTOPTAASSASSINATION500"
		set_character_flag = murder_in_motion
		random_list = {
			# You successfully penetrate security
			0 = {
				root_plot_power_score = yes
				modifier = {
					factor = 0.5
					plot_is_known_by = event_target:target_victim
				}
				random_list = {
					# You do so undetected
					0 = {
						root_intrigue_score = yes
						modifier = {
							factor = 0
							plot_is_known_by = event_target:target_victim
						}
						log = "[Root.GetBestName] killed [target_victim.GetBestName], undetected."
						event_target:target_victim = { character_event = { id = assassination.510 tooltip = "EVTTOOLTIPASSASSINATION510" days = 1 random = 5 } }
					}
					# You are detected by security
					0 = {
						target_security_realm_intrigue_score = yes
						log = "[Root.GetBestName] penetrated [target_victim.GetBestName]'s security, but was detected."
						event_target:target_victim = { character_event = { id = assassination.520 tooltip = "EVTTOOLTIPASSASSINATION520" days = 1 random = 5 } }
					}
				}
			}
			# You fail to penetrate security
			20 = {
				random_list = {
					# You escape
					0 = {
						root_intrigue_score = yes
						log = "[Root.GetBestName] failed to penetrate [target_victim.GetBestName]'s security."
						character_event = { id = assassination.530 tooltip = "EVTTOOLTIPASSASSINATION530" days = 1 random = 5 }
					}
					# You are captured by security
					0 = {
						target_security_realm_intrigue_score = yes
						log = "[Root.GetBestName] was captured by [target_victim.GetBestName]'s security."
						event_target:target_victim = { character_event = { id = assassination.540 tooltip = "EVTTOOLTIPASSASSINATION540" days = 1 random = 5 } }
					}
				}
			}
		}
		ai_chance = {
			factor = 0
			root_plot_power_score = yes
		}
	}
	
	# Inform the mastermind
	option = {
		trigger = { event_target:target_mastermind = { always = yes } }
		name = "EVTOPTBASSASSINATION500"
		event_target:target_mastermind = { letter_event = { id = assassination.501 tooltip = "EVTTOOLTIPASSASSINATION501" days = 1 random = 5 } }
		ai_chance = {
			factor = 0
			target_mastermind_plot_power_score = yes
		}
	}
	
	# It's too dangerous
	option = {
		name = "EVTOPTCASSASSINATION500"
		clear_event_target = target_victim
		ai_chance = {
			factor = 0
			target_security_realm_intrigue_score = yes
			
			modifier = {
				factor = 2
				trait = close_minded
			}
			modifier = {
				factor = 0.5
				trait = open_minded
			}
			modifier = {
				factor = 2
				trait = craven
			}
			modifier = {
				factor = 0.5
				trait = brave
			}
			modifier = {
				factor = 2
				event_target:target_victim = { attribute_diff = { character = ROOT attribute = intrigue value = 1 } }
				trait = honest
			}
			modifier = {
				factor = 2
				event_target:target_victim = { attribute_diff = { character = ROOT attribute = intrigue value = 4 } }
				NOT = { trait = deceitful }
			}
			modifier = {
				factor = 2
				event_target:target_victim = { attribute_diff = { character = ROOT attribute = intrigue value = 7 } }
				NOT = { trait = deceitful }
			}
			modifier = {
				factor = 2
				event_target:target_victim = { attribute_diff = { character = ROOT attribute = intrigue value = 10 } }
			}
		}
	}
}

letter_event = {
	id = assassination.501
	desc = "EVTDESCASSASSINATION501"
	border = GFX_event_letter_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION501"
		set_character_flag = murder_in_motion
		FROM = { letter_event = { id = assassination.502 } }
		ai_chance = {
			factor = 10
			# Chance of success
			root_plot_power_score = yes
			
			# Concern for FROM's life
			modifier = {
				factor = 0.8
				opinion = { who = FROM value = 10 }
				trait = friendly
			}
			modifier = {
				factor = 0.8
				opinion = { who = FROM value = 20 }
				trait = friendly
			}
			modifier = {
				factor = 0.8
				opinion = { who = FROM value = 30 }
				trait = friendly
			}
			modifier = {
				factor = 0.8
				opinion = { who = FROM value = 40 }
				NOT = { trait = cold }
			}
			modifier = {
				factor = 0.8
				opinion = { who = FROM value = 50 }
				NOT = { trait = cold }
			}
			modifier = {
				factor = 0.8
				opinion = { who = FROM value = 60 }
				NOT = { trait = cold }
			}
			modifier = {
				factor = 0.8
				opinion = { who = FROM value = 70 }
				NOT = { trait = cold }
			}
			modifier = {
				factor = 0.8
				opinion = { who = FROM value = 80 }
			}
			modifier = {
				factor = 0.8
				opinion = { who = FROM value = 90 }
			}
			modifier = {
				factor = 0.8
				opinion = { who = FROM value = 100 }
			}
		}
	}
	option = {
		name = "EVTOPTBASSASSINATION501"
		hidden_tooltip = { FROM = { letter_event = { id = assassination.503 } } }
		ai_chance = {
			factor = 0
			# Chance of failure
			target_security_realm_intrigue_score = yes
		}
	}
}

# You've been given the go-ahead
letter_event = {
	id = assassination.502
	desc = "EVTDESCASSASSINATION502"
	border = GFX_event_letter_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION502"
		random_list = {
			# You successfully penetrate security
			0 = {
				target_mastermind_plot_power_score = yes
				modifier = {
					factor = 0.5
					event_target:target_mastermind = { plot_is_known_by = event_target:target_victim }
				}
				random_list = {
					# You do so undetected
					50 = {
						root_intrigue_score = yes
						modifier = {
							factor = 0
							event_target:target_mastermind = { plot_is_known_by = event_target:target_victim }
						}
						log = "[Root.GetBestName] killed [target_victim.GetBestName], undetected."
						event_target:target_victim = { character_event = { id = assassination.510 tooltip = "EVTTOOLTIPASSASSINATION510" days = 1 random = 5 } }
					}
					# You are detected by security
					50 = {
						target_security_realm_intrigue_score = yes
						log = "[Root.GetBestName] penetrated [target_victim.GetBestName]'s security, but was detected."
						event_target:target_victim = { character_event = { id = assassination.520 tooltip = "EVTTOOLTIPASSASSINATION520" days = 1 random = 5 } }
					}
				}
			}
			# You fail to penetrate security
			20 = {
				random_list = {
					# You escape
					0 = {
						root_intrigue_score = yes
						log = "[Root.GetBestName] failed to penetrate [target_victim.GetBestName]'s security."
						character_event = { id = assassination.530 tooltip = "EVTTOOLTIPASSASSINATION530" days = 1 random = 5 }
					}
					# You are captured by security
					0 = {
						target_security_realm_intrigue_score = yes
						log = "[Root.GetBestName] was captured by [target_victim.GetBestName]'s security."
						event_target:target_victim = { character_event = { id = assassination.540 tooltip = "EVTTOOLTIPASSASSINATION540" days = 1 random = 5 } }
					}
				}
			}
		}
	}
}

# You've been denied the go-ahead
letter_event = {
	id = assassination.503
	desc = "EVTDESCASSASSINATION503"
	border = GFX_event_letter_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION503"
		clear_event_target = target_mastermind
		clear_event_target = target_victim
		clear_event_target = target_security
	}
}

# An assassin successfully penetrates your security, undetected. You're screwed.
character_event = {
	id = assassination.510
	desc = "EVTDESCASSASSINATION510"
	picture = GFX_evt_assassins
	border = GFX_event_normal_frame_intrigue
	hide_from = yes
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { event_target:target_mastermind = { always = yes } }
			death = { death_reason = death_murder_unknown killer = event_target:target_mastermind }
		}
		else = { death = { death_reason = death_murder_unknown killer = FROM } }
		FROM = { character_event = { id = assassination.511 } }
		event_target:target_mastermind = { character_event = { id = assassination.512 } }
		hidden_tooltip = {
			# Inform relevant characters of the murder
			any_close_relative = { character_event = { id = assassination.513 } }
			liege = {
				limit = { NOT = { is_close_relative = ROOT } }
				character_event = { id = assassination.513 }
			}
			spouse = {
				limit = { NOT = { is_close_relative = ROOT } }
				character_event = { id = assassination.513 }
			}
			any_vassal = {
				limit = { NOT = { is_close_relative = ROOT } }
				character_event = { id = assassination.513 }
			}
		}
	}
	
	option = {
		name = "EVTOPTAASSASSINATION510"
		tooltip = { death = { death_reason = death_murder_unknown } }
	}
}
character_event = {
	id = assassination.511
	desc = "EVTDESCASSASSINATION511"
	picture = GFX_evt_assassins
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION510"
		# Killing people is stressful, at least the first time
		if = {
			limit = {
				NOT = { has_education_martial_trigger = yes }
				NOT = { has_character_flag = flag_has_killed_someone }
			}
			degrade_mood_effect = yes
		}
		set_character_flag = flag_has_killed_someone
		clear_event_target = target_victim
		clear_event_target = target_security
	}
}
character_event = {
	id = assassination.512
	desc = "EVTDESCASSASSINATION512"
	picture = GFX_evt_cabal
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION510"
		clear_event_target = target_mastermind
	}
}
character_event = {
	id = assassination.513
	desc = "EVTDESCASSASSINATION513"
	picture = GFX_evt_assassins
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = event_target:target_victim }
		NOT = { character = FROMFROM }
		NOT = { character = event_target:target_mastermind }
	}
	
	option = { name = "EVTOPTCONFIRM" }
}

# An assassin successfully penetrates your security, but is detected. You have a chance to defend yourself.
character_event = {
	id = assassination.520
	desc = "EVTDESCASSASSINATION520"
	picture = GFX_evt_assassins
	border = GFX_event_normal_frame_intrigue
	hide_from = yes
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION520"
		hidden_tooltip = { FROM = { character_event = { id = assassination.521 } } }
	}
}
character_event = {
	id = assassination.521
	desc = "EVTDESCASSASSINATION521"
	picture = GFX_evt_assassins
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION521"
		if = {
			limit = { event_target:target_mastermind = { always = yes } }
			event_target:target_mastermind = { reveal_plot = yes }
		}
		else = { reveal_plot = yes }
		set_character_flag = flag_no_quarter
		set_character_flag = flag_infantry_duel
		set_character_flag = flag_interior
		set_character_flag = flag_enemy_spotted
		set_character_flag = flag_duel_close_quarters_assassin
		hidden_tooltip = {
			FROM = {
				capital_holding = { save_event_target_as = duel_location }
				set_character_flag = flag_infantry_duel
				set_character_flag = flag_interior
				set_character_flag = flag_duel_close_quarters_victim
				character_event = { id = duel.50 }
			}
		}
	}
}
# You successfully assassinated the target. Eventually.
character_event = {
	id = assassination.522
	desc = "EVTDESCASSASSINATION522"
	picture = GFX_evt_assassins
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		trigger = { NOT = { event_target:target_mastermind = { always = yes } } }
		name = "EVTOPTAASSASSINATION522"
		clear_event_target = target_victim
		clear_event_target = target_security
	}
	
	option = {
		trigger = { event_target:target_mastermind = { always = yes } }
		name = "EVTOPTAASSASSINATION522"
		hidden_tooltip = { event_target:target_mastermind = { character_event = { id = assassination.523 } } }
	}
}
character_event = {
	id = assassination.523
	desc = "EVTDESCASSASSINATION523"
	picture = GFX_evt_assassins
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION523"
		clear_event_target = target_victim
		clear_event_target = target_security
		clear_event_target = target_mastermind
	}
}
# You failed to assassinate the target
character_event = {
	id = assassination.524
	desc = "EVTDESCASSASSINATION524"
	picture = GFX_evt_assassins
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		trigger = { NOT = { event_target:target_mastermind = { always = yes } } }
		name = "EVTOPTAASSASSINATION524"
		clr_character_flag = murder_in_motion
		clear_event_target = target_victim
		clear_event_target = target_security
	}
	
	option = {
		trigger = { event_target:target_mastermind = { always = yes } }
		name = "EVTOPTBASSASSINATION524"
		hidden_tooltip = { event_target:target_mastermind = { character_event = { id = assassination.525 } } }
	}
}
character_event = {
	id = assassination.525
	desc = "EVTDESCASSASSINATION525"
	picture = GFX_evt_assassins
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION525"
		clr_character_flag = murder_in_motion
		clear_event_target = target_victim
		clear_event_target = target_security
		clear_event_target = target_mastermind
	}
}
# You escaped from an assassin
character_event = {
	id = assassination.526
	desc = "EVTDESCASSASSINATION526"
	picture = GFX_evt_assassins
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION526"
		if = {
			limit = { trait = neurotic }
			random = {
				chance = 90
				degrade_mood_effect = yes
			}
		}
		else_if = {
			limit = { trait = confident }
			random = {
				chance = 50
				degrade_mood_effect = yes
			}
		}
		else = {
			random = {
				chance = 70
				degrade_mood_effect = yes
			}
		}
		hidden_tooltip = {
			# Inform relevant characters of the murder attempt
			any_close_relative = { character_event = { id = assassination.543 } }
			liege = {
				limit = { NOT = { is_close_relative = ROOT } }
				character_event = { id = assassination.543 }
			}
			spouse = {
				limit = { NOT = { is_close_relative = ROOT } }
				character_event = { id = assassination.543 }
			}
			any_vassal = {
				limit = { NOT = { is_close_relative = ROOT } }
				character_event = { id = assassination.543 }
			}
		}
	}
}
# You captured or drove off an assassin
character_event = {
	id = assassination.527
	desc = "EVTDESCASSASSINATION527"
	picture = GFX_evt_assassins
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION527"
		if = {
			limit = { trait = neurotic }
			random = {
				chance = 50
				degrade_mood_effect = yes
			}
		}
		else_if = {
			limit = { trait = confident }
			random = {
				chance = 10
				degrade_mood_effect = yes
			}
		}
		else = {
			random = {
				chance = 30
				degrade_mood_effect = yes
			}
		}
		hidden_tooltip = {
			# Inform relevant characters of the murder attempt
			any_close_relative = { character_event = { id = assassination.543 } }
			liege = {
				limit = { NOT = { is_close_relative = ROOT } }
				character_event = { id = assassination.543 }
			}
			spouse = {
				limit = { NOT = { is_close_relative = ROOT } }
				character_event = { id = assassination.543 }
			}
			any_vassal = {
				limit = { NOT = { is_close_relative = ROOT } }
				character_event = { id = assassination.543 }
			}
		}
	}
}
# You killed an assassin
character_event = {
	id = assassination.528
	desc = "EVTDESCASSASSINATION528"
	picture = GFX_evt_assassins
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION528"
		if = {
			limit = { event_target:target_mastermind = { always = yes } }
			event_target:target_mastermind = { character_event = { id = assassination.529 tooltip = "EVTTOOLTIPASSASSINATION529" } }
		}
		else = {
			clear_event_target = target_victim
			clear_event_target = target_security
		}
		hidden_tooltip = {
			# Inform relevant characters of the murder attempt
			any_close_relative = { character_event = { id = assassination.543 } }
			liege = {
				limit = { NOT = { is_close_relative = ROOT } }
				character_event = { id = assassination.543 }
			}
			spouse = {
				limit = { NOT = { is_close_relative = ROOT } }
				character_event = { id = assassination.543 }
			}
			any_vassal = {
				limit = { NOT = { is_close_relative = ROOT } }
				character_event = { id = assassination.543 }
			}
		}
	}
}
# Your assassin is dead and has been traced back to you
character_event = {
	id = assassination.529
	desc = "EVTDESCASSASSINATION529"
	picture = GFX_evt_assassins
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION529"
		clr_character_flag = murder_in_motion
		clear_event_target = target_assassin
		clear_event_target = target_victim
		clear_event_target = target_security
		clear_event_target = target_mastermind
	}
}

# You failed to penetrate security, but didn't get caught
character_event = {
	id = assassination.530
	desc = "EVTDESCASSASSINATION530"
	picture = GFX_evt_assassins
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		trigger = { NOT = { event_target:target_mastermind = { always = yes } } }
		name = "EVTOPTAASSASSINATION530"
		clear_event_target = target_victim
		clear_event_target = target_security
		clr_character_flag = murder_in_motion
	}
	
	option = {
		trigger = { event_target:target_mastermind = { always = yes } }
		name = "EVTOPTBASSASSINATION530"
		hidden_tooltip = { event_target:target_mastermind = { letter_event = { id = assassination.531 } } }
	}
}
letter_event = {
	id = assassination.531
	desc = "EVTDESCASSASSINATION531"
	border = GFX_event_letter_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION531"
		clear_event_target = target_victim
		clear_event_target = target_security
		clear_event_target = target_mastermind
		clr_character_flag = murder_in_motion
	}
}

# Your security team captured an assassin
character_event = {
	id = assassination.540
	desc = "EVTDESCASSASSINATION540"
	border = GFX_event_normal_frame_intrigue
	picture = GFX_evt_prison
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION540"
		if = {
			limit = { event_target:target_mastermind = { always = yes } }
			event_target:target_mastermind = { reveal_plot = yes }
		}
		else = { FROM = { reveal_plot = yes } }
		if = {
			limit = { is_landed = yes }
			reverse_imprison = FROM
		}
		else = { liege = { reverse_imprison = FROM } }
		hidden_tooltip = { FROM = { character_event = { id = assassination.541 } } }
		hidden_tooltip = {
			# Inform relevant characters of the murder attempt
			any_close_relative = { character_event = { id = assassination.543 } }
			liege = {
				limit = { NOT = { is_close_relative = ROOT } }
				character_event = { id = assassination.543 }
			}
			spouse = {
				limit = { NOT = { is_close_relative = ROOT } }
				character_event = { id = assassination.543 }
			}
			any_vassal = {
				limit = { NOT = { is_close_relative = ROOT } }
				character_event = { id = assassination.543 }
			}
		}
	}
}
character_event = {
	id = assassination.541
	desc = "EVTDESCASSASSINATION541"
	picture = GFX_evt_assassins
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		trigger = { NOT = { event_target:target_mastermind = { always = yes } } }
		name = "EVTOPTAASSASSINATION524"
		clear_event_target = target_victim
		clear_event_target = target_security
		clr_character_flag = murder_in_motion
	}
	
	option = {
		trigger = { event_target:target_mastermind = { always = yes } }
		name = "EVTOPTBASSASSINATION524"
		hidden_tooltip = { event_target:target_mastermind = { letter_event = { id = assassination.542 } } }
	}
}
character_event = {
	id = assassination.542
	desc = "EVTDESCASSASSINATION525"
	picture = GFX_evt_assassins
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION525"
		clear_event_target = target_victim
		clear_event_target = target_security
		clear_event_target = target_mastermind
		clr_character_flag = murder_in_motion
	}
}
# There was a thwarted attempt on the life of someone relevant to you
character_event = {
	id = assassination.543
	desc = "EVTDESCASSASSINATION543"
	picture = GFX_evt_cabal
	border = GFX_event_normal_frame_intrigue
	is_triggered_only = yes
	
	option = { name = "EVTOPTCONFIRM" }
}
